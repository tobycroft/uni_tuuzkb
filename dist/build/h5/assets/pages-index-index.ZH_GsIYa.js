import{g as s,c as e,a as t,w as a,i as o,o as l,b as n,d as c,t as d,n as i,e as u,f,r,F as p,h as g,j as _,k as C,l as k}from"./index-DDEAZlbP.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";const m=h({data:()=>({MaskCtrl:"",MaskButton:"",pid:"",vid:"",baud:0,connectionMessage:"未连接",Endpoint_BeforeDelay:0,Endpoint_delay:0,Endpoint_dynamic_mode:0,sep:1,LCD1:"",LCD2:"",connectionClass:"status-failed",Mode:0,socket:null,kbmode:0,kbcfg:0}),mounted(){this.reconnect()},methods:{reconnect(){const e=s("config_ip");e&&this.connectWebSocket(`${e}`)},cmdFunc(s){const e={route:"kbd",type:s};this.socket.send({data:JSON.stringify(e)})},onSliderChange(s,e){this[s]!==e.detail.value&&(this[s]=e.detail.value,console.log(`${s} value:`,e.detail.value),this.socket.send({data:JSON.stringify({route:"semi-config",type:s,data:this.$data})}))},connectWebSocket(s){this.socket=e({url:s,success:()=>{this.connectionMessage="连接中……",this.connectionClass="status-progress"},fail:()=>{this.connectionMessage="连接失败×",this.connectionClass="status-failed"}}),this.socket.onOpen((()=>{this.connectionMessage="连接建立",this.connectionClass="status-success",this.updateData()})),this.socket.onError((()=>{this.connectionMessage="连接错误",this.connectionClass="status-failed"})),this.socket.onMessage((s=>{if("update"===s.data)this.updateData();else{const e=JSON.parse(s.data);this.updateFormData(e)}})),this.socket.onClose((()=>{this.connectionMessage="连接被关闭",this.connectionClass="status-failed"}))},updateData(){this.socket.send({data:JSON.stringify({route:"info"})});let s=this;setInterval((function(){s.socket.send({data:JSON.stringify({route:"ping"})})}),9e3)},updateFormData(s){console.log(s);for(const e in s)null!==this[e]&&(this[e]=s[e])},modeOption(s){this.Mode=s,this.socket.send({data:JSON.stringify({route:"semi-config",type:"Mode",data:this.$data})})},endPointOption(s){this.Endpoint_dynamic_mode=s,this.socket.send({data:JSON.stringify({route:"semi-config",type:"Endpoint_dynamic_mode",data:this.$data})})},kbModeOption(s){this.kbmode=s,this.socket.send({data:JSON.stringify({route:"semi-config",type:"kbmode",data:this.$data})})},kbCfgOption(s){this.kbcfg=s,this.socket.send({data:JSON.stringify({route:"semi-config",type:"kbcfg",data:this.$data})})},getEndpointClass(s){return this.Endpoint_dynamic_mode===s?"option-selected":"option"},getModeClass(s){return this.Mode===s?"option-selected":"option"},getKbModeClass(s){return this.kbmode===s?"option-selected":"option"},getKbCfgClass(s){return this.kbcfg===s?"option-selected":"option"}}},[["render",function(s,e,h,m,b,M){const O=o,y=g,v=_,D=C,E=k;return l(),t(O,{class:"container"},{default:a((()=>[n(O,{class:i([b.connectionClass,"connection-status"])},{default:a((()=>[c(d(b.connectionMessage),1)])),_:1},8,["class"]),n(E,{class:"form"},{default:a((()=>[n(y,{onClick:M.reconnect,class:"submit-button"},{default:a((()=>[c("连接")])),_:1},8,["onClick"]),n(O,{class:"form-group"},{default:a((()=>[n(O,{class:"radio-group"},{default:a((()=>[n(O,null,{default:a((()=>[c("PID:"+d(b.pid),1)])),_:1}),n(O,null,{default:a((()=>[c("VID:"+d(b.vid),1)])),_:1}),n(O,null,{default:a((()=>[c("Baud:"+d(b.baud),1)])),_:1})])),_:1}),u("hr"),n(O,{class:"radio-group"},{default:a((()=>[n(O,null,{default:a((()=>[c(" MaskCtrl:")])),_:1}),(l(!0),f(p,null,r(b.MaskCtrl,(s=>(l(),t(O,{key:s},{default:a((()=>[c(d(s),1)])),_:2},1024)))),128))])),_:1}),u("hr"),n(O,{class:"radio-group"},{default:a((()=>[c(" MaskButton: "),(l(!0),f(p,null,r(b.MaskButton,(s=>(l(),t(O,{class:"radio-group",key:s},{default:a((()=>[c(d(s),1)])),_:2},1024)))),128))])),_:1}),u("hr"),n(O,{class:"radio-group"},{default:a((()=>[c("LCD1:"+d(b.LCD1),1)])),_:1}),u("hr"),n(O,{class:"radio-group"},{default:a((()=>[c("LCD2:"+d(b.LCD2),1)])),_:1})])),_:1}),u("hr"),n(O,{class:"slider-label"},{default:a((()=>[c("前置时间: "+d(b.Endpoint_BeforeDelay),1)])),_:1}),n(v,{value:b.Endpoint_BeforeDelay,min:"0",max:"200",step:"1","show-value":"",activeColor:"#3cc51f",backgroundColor:"#e5e5e5","block-color":"#3cc51f","block-size":"28",onChange:e[0]||(e[0]=s=>M.onSliderChange("Endpoint_BeforeDelay",s))},null,8,["value"]),n(O,{class:"slider-label"},{default:a((()=>[c("操作间隔: "+d(b.Endpoint_delay),1)])),_:1}),n(v,{value:b.Endpoint_delay,min:"0",max:"200",step:"1","show-value":"",activeColor:"#3cc51f",backgroundColor:"#e5e5e5","block-color":"#3cc51f","block-size":"28",onChange:e[1]||(e[1]=s=>M.onSliderChange("Endpoint_delay",s))},null,8,["value"]),n(O,{class:"form-group"},{default:a((()=>[n(D,null,{default:a((()=>[c("选项选择:")])),_:1}),n(O,{class:"radio-group"},{default:a((()=>[n(y,{onClick:e[2]||(e[2]=s=>M.modeOption(0)),class:i(M.getModeClass(0))},{default:a((()=>[c("关闭")])),_:1},8,["class"]),n(y,{onClick:e[3]||(e[3]=s=>M.modeOption(1)),class:i(M.getModeClass(1))},{default:a((()=>[c("On-Q")])),_:1},8,["class"]),n(y,{onClick:e[4]||(e[4]=s=>M.modeOption(2)),class:i(M.getModeClass(2))},{default:a((()=>[c("On-Whel")])),_:1},8,["class"])])),_:1})])),_:1}),n(O,{class:"form-group"},{default:a((()=>[n(D,null,{default:a((()=>[c("选项选择:")])),_:1}),n(O,{class:"radio-group"},{default:a((()=>[n(y,{onClick:e[5]||(e[5]=s=>M.endPointOption(0)),class:i(M.getEndpointClass(0))},{default:a((()=>[c("Ste")])),_:1},8,["class"]),n(y,{onClick:e[6]||(e[6]=s=>M.endPointOption(1)),class:i(M.getEndpointClass(1))},{default:a((()=>[c("Dym")])),_:1},8,["class"]),n(y,{onClick:e[7]||(e[7]=s=>M.endPointOption(2)),class:i(M.getEndpointClass(2))},{default:a((()=>[c("Wde")])),_:1},8,["class"]),n(y,{onClick:e[8]||(e[8]=s=>M.endPointOption(3)),class:i(M.getEndpointClass(3))},{default:a((()=>[c("Ato")])),_:1},8,["class"]),n(y,{onClick:e[9]||(e[9]=s=>M.endPointOption(4)),class:i(M.getEndpointClass(4))},{default:a((()=>[c("Atw")])),_:1},8,["class"]),n(y,{onClick:e[10]||(e[10]=s=>M.endPointOption(5)),class:i(M.getEndpointClass(5))},{default:a((()=>[c("Man")])),_:1},8,["class"])])),_:1})])),_:1}),n(O,{class:"form-group"},{default:a((()=>[n(D,null,{default:a((()=>[c("BaseFunc:")])),_:1}),n(O,{class:"radio-group"},{default:a((()=>[n(y,{onClick:e[11]||(e[11]=s=>M.cmdFunc("setting_reset"))},{default:a((()=>[c("重置")])),_:1}),n(y,{onClick:e[12]||(e[12]=s=>M.cmdFunc("bankey"))},{default:a((()=>[c("屏蔽键")])),_:1}),n(y,{onClick:e[13]||(e[13]=s=>M.cmdFunc("unbanall"))},{default:a((()=>[c("解除屏蔽")])),_:1})])),_:1})])),_:1}),n(O,{class:"slider-label"},{default:a((()=>[c("系统Sep: "+d(b.sep),1)])),_:1}),n(v,{value:b.sep,min:"1",max:"100",step:"1","show-value":"",activeColor:"#3cc51f",backgroundColor:"#e5e5e5","block-color":"#3cc51f","block-size":"28",onChange:e[14]||(e[14]=s=>M.onSliderChange("sep",s))},null,8,["value"]),n(O,{class:"form-group"},{default:a((()=>[n(D,null,{default:a((()=>[c("PowerFunc:")])),_:1}),n(O,{class:"radio-group"},{default:a((()=>[n(y,{onClick:e[15]||(e[15]=s=>M.cmdFunc("reset"))},{default:a((()=>[c("重启")])),_:1}),n(y,{onClick:e[16]||(e[16]=s=>M.cmdFunc("cfgget"))},{default:a((()=>[c("获取CFG")])),_:1})])),_:1}),n(D,null,{default:a((()=>[c("CFG-Baud:")])),_:1}),n(O,{class:"radio-group"},{default:a((()=>[n(y,{onClick:e[17]||(e[17]=s=>M.cmdFunc("cfg3k"))},{default:a((()=>[c("B-300K")])),_:1}),n(y,{onClick:e[18]||(e[18]=s=>M.cmdFunc("cfg115k"))},{default:a((()=>[c("B-115k")])),_:1}),n(y,{onClick:e[19]||(e[19]=s=>M.cmdFunc("cfg9k"))},{default:a((()=>[c("B-9k")])),_:1})])),_:1}),n(D,null,{default:a((()=>[c("DefFunc:")])),_:1}),n(O,{class:"radio-group"},{default:a((()=>[n(y,{onClick:e[20]||(e[20]=s=>M.cmdFunc("05ac"))},{default:a((()=>[c("Def115")])),_:1}),n(y,{onClick:e[21]||(e[21]=s=>M.cmdFunc("alldef9k"))},{default:a((()=>[c("Def9k")])),_:1}),n(y,{onClick:e[22]||(e[22]=s=>M.cmdFunc("setusb"))},{default:a((()=>[c("设定USBstr")])),_:1})])),_:1}),n(O,{class:"form-group"},{default:a((()=>[n(D,null,{default:a((()=>[c("键盘模式:")])),_:1}),n(O,{class:"radio-group"},{default:a((()=>[n(y,{onClick:e[23]||(e[23]=s=>M.kbModeOption(0)),class:i(M.getKbModeClass(0))},{default:a((()=>[c("M1")])),_:1},8,["class"]),n(y,{onClick:e[24]||(e[24]=s=>M.kbModeOption(1)),class:i(M.getKbModeClass(1))},{default:a((()=>[c("M2")])),_:1},8,["class"]),n(y,{onClick:e[25]||(e[25]=s=>M.kbModeOption(2)),class:i(M.getKbModeClass(2))},{default:a((()=>[c("M3")])),_:1},8,["class"]),n(y,{onClick:e[26]||(e[26]=s=>M.kbModeOption(3)),class:i(M.getKbModeClass(3))},{default:a((()=>[c("M4")])),_:1},8,["class"])])),_:1})])),_:1}),n(O,{class:"form-group"},{default:a((()=>[n(D,null,{default:a((()=>[c("通信模式:")])),_:1}),n(O,{class:"radio-group"},{default:a((()=>[n(y,{onClick:e[27]||(e[27]=s=>M.kbCfgOption(0)),class:i(M.getKbCfgClass(0))},{default:a((()=>[c("Norm")])),_:1},8,["class"]),n(y,{onClick:e[28]||(e[28]=s=>M.kbCfgOption(1)),class:i(M.getKbCfgClass(1))},{default:a((()=>[c("ASCII")])),_:1},8,["class"]),n(y,{onClick:e[29]||(e[29]=s=>M.kbCfgOption(2)),class:i(M.getKbCfgClass(2))},{default:a((()=>[c("Pass")])),_:1},8,["class"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-4f467e97"]]);export{m as default};
