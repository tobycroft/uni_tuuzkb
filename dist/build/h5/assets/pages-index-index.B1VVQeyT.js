import{g as e,c as t,a as s,w as a,i as n,o,b as l,d as c,t as i,n as d,e as u,f,h as r,j as p}from"./index-BFUpUGVb.js";import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";const C=_({data:()=>({MaskCtrl:"",MaskButton:"",pid:"",vid:"",size:22,connectionMessage:"未连接",Endpoint_BeforeDelay:0,Endpoint_delay:0,Endpoint_dynamic_mode:0,sep:1,LCD1:"",LCD2:"",connectionClass:"status-failed",Mode:0,socket:null}),mounted(){this.reconnect()},methods:{reconnect(){const t=e("config_ip");t&&this.connectWebSocket(`${t}`)},cmdFunc(e){const t={route:"kbd",type:e};this.socket.send({data:JSON.stringify(t)})},onSliderChange(e,t){this[e]!==t.detail.value&&(this[e]=t.detail.value,console.log(`${e} value:`,t.detail.value),this.socket.send({data:JSON.stringify({route:"semi-config",type:e,data:this.$data})}))},connectWebSocket(e){this.socket=t({url:e,success:()=>{this.connectionMessage="连接中……",this.connectionClass="status-progress"},fail:()=>{this.connectionMessage="连接失败×",this.connectionClass="status-failed"}}),this.socket.onOpen((()=>{this.connectionMessage="连接建立",this.connectionClass="status-success",this.updateData()})),this.socket.onError((()=>{this.connectionMessage="连接错误",this.connectionClass="status-failed"})),this.socket.onMessage((e=>{if("update"===e.data)this.updateData();else{const t=JSON.parse(e.data);this.updateFormData(t)}})),this.socket.onClose((()=>{this.connectionMessage="连接被关闭",this.connectionClass="status-failed"}))},updateData(){this.socket.send({data:JSON.stringify({route:"info"})});let e=this;setInterval((function(){e.socket.send({data:JSON.stringify({route:"ping"})})}),9e3)},updateFormData(e){console.log(e);for(const t in e)null!==this[t]&&(this[t]=e[t])},modeOption(e){this.Mode=e,this.socket.send({data:JSON.stringify({route:"semi-config",type:"Mode",data:this.$data})})},endPointOption(e){this.Endpoint_dynamic_mode=e,this.socket.send({data:JSON.stringify({route:"semi-config",type:"Endpoint_dynamic_mode",data:this.$data})})},getEndpointClass(e){return this.Endpoint_dynamic_mode===e?"option-selected":"option"},getModeClass(e){return this.Mode===e?"option-selected":"option"}}},[["render",function(e,t,_,C,g,k){const h=n,m=u,y=f,M=r,b=p;return o(),s(h,{class:"container"},{default:a((()=>[l(h,{class:d([g.connectionClass,"connection-status"])},{default:a((()=>[c(i(g.connectionMessage),1)])),_:1},8,["class"]),l(b,{class:"form"},{default:a((()=>[l(m,{onClick:k.reconnect,class:"submit-button"},{default:a((()=>[c("连接")])),_:1},8,["onClick"]),l(h,{class:"form-group"},{default:a((()=>[l(h,null,{default:a((()=>[c("进度条:")])),_:1}),l(h,null,{default:a((()=>[c("PID:"+i(g.pid)+" | VID:"+i(g.vid),1)])),_:1}),l(h,null,{default:a((()=>[c("MaskCtrl:"+i(g.MaskCtrl)+" | MaskButton:"+i(g.MaskButton),1)])),_:1}),l(h,null,{default:a((()=>[c("LCD1:"+i(g.LCD1),1)])),_:1}),l(h,null,{default:a((()=>[c("LCD2:"+i(g.LCD2),1)])),_:1})])),_:1}),l(h,{class:"slider-label"},{default:a((()=>[c("前置时间: "+i(g.Endpoint_BeforeDelay),1)])),_:1}),l(y,{value:g.Endpoint_BeforeDelay,min:"0",max:"200",step:"1","show-value":"",activeColor:"#3cc51f",backgroundColor:"#e5e5e5","block-color":"#3cc51f","block-size":"28",onChange:t[0]||(t[0]=e=>k.onSliderChange("Endpoint_BeforeDelay",e))},null,8,["value"]),l(h,{class:"slider-label"},{default:a((()=>[c("操作间隔: "+i(g.Endpoint_delay),1)])),_:1}),l(y,{value:g.Endpoint_delay,min:"0",max:"200",step:"1","show-value":"",activeColor:"#3cc51f",backgroundColor:"#e5e5e5","block-color":"#3cc51f","block-size":"28",onChange:t[1]||(t[1]=e=>k.onSliderChange("Endpoint_delay",e))},null,8,["value"]),l(h,{class:"form-group"},{default:a((()=>[l(M,null,{default:a((()=>[c("选项选择:")])),_:1}),l(h,{class:"radio-group"},{default:a((()=>[l(m,{onClick:t[2]||(t[2]=e=>k.modeOption(0)),class:d(k.getModeClass(0))},{default:a((()=>[c("关闭")])),_:1},8,["class"]),l(m,{onClick:t[3]||(t[3]=e=>k.modeOption(1)),class:d(k.getModeClass(1))},{default:a((()=>[c("On-Q")])),_:1},8,["class"]),l(m,{onClick:t[4]||(t[4]=e=>k.modeOption(2)),class:d(k.getModeClass(2))},{default:a((()=>[c("On-Whel")])),_:1},8,["class"])])),_:1})])),_:1}),l(h,{class:"form-group"},{default:a((()=>[l(M,null,{default:a((()=>[c("选项选择:")])),_:1}),l(h,{class:"radio-group"},{default:a((()=>[l(m,{onClick:t[5]||(t[5]=e=>k.endPointOption(0)),class:d(k.getEndpointClass(0))},{default:a((()=>[c("Ste")])),_:1},8,["class"]),l(m,{onClick:t[6]||(t[6]=e=>k.endPointOption(1)),class:d(k.getEndpointClass(1))},{default:a((()=>[c("Dym")])),_:1},8,["class"]),l(m,{onClick:t[7]||(t[7]=e=>k.endPointOption(2)),class:d(k.getEndpointClass(2))},{default:a((()=>[c("Wde")])),_:1},8,["class"]),l(m,{onClick:t[8]||(t[8]=e=>k.endPointOption(3)),class:d(k.getEndpointClass(3))},{default:a((()=>[c("Ato")])),_:1},8,["class"]),l(m,{onClick:t[9]||(t[9]=e=>k.endPointOption(4)),class:d(k.getEndpointClass(4))},{default:a((()=>[c("Atw")])),_:1},8,["class"]),l(m,{onClick:t[10]||(t[10]=e=>k.endPointOption(5)),class:d(k.getEndpointClass(5))},{default:a((()=>[c("Man")])),_:1},8,["class"])])),_:1})])),_:1}),l(h,{class:"form-group"},{default:a((()=>[l(M,null,{default:a((()=>[c("BaseFunc:")])),_:1}),l(h,{class:"radio-group"},{default:a((()=>[l(m,{onClick:t[11]||(t[11]=e=>k.cmdFunc("setting_reset"))},{default:a((()=>[c("重置")])),_:1}),l(m,{onClick:t[12]||(t[12]=e=>k.cmdFunc("bankey"))},{default:a((()=>[c("屏蔽键")])),_:1}),l(m,{onClick:t[13]||(t[13]=e=>k.cmdFunc("unbanall"))},{default:a((()=>[c("解除屏蔽")])),_:1})])),_:1})])),_:1}),l(h,{class:"slider-label"},{default:a((()=>[c("系统Sep: "+i(g.sep),1)])),_:1}),l(y,{value:g.sep,min:"1",max:"100",step:"1","show-value":"",activeColor:"#3cc51f",backgroundColor:"#e5e5e5","block-color":"#3cc51f","block-size":"28",onChange:t[14]||(t[14]=e=>k.onSliderChange("sep",e))},null,8,["value"]),l(h,{class:"form-group"},{default:a((()=>[l(M,null,{default:a((()=>[c("PowerFunc:")])),_:1}),l(h,{class:"radio-group"},{default:a((()=>[l(m,{onClick:t[15]||(t[15]=e=>k.cmdFunc("reset"))},{default:a((()=>[c("重启")])),_:1}),l(m,{onClick:t[16]||(t[16]=e=>k.cmdFunc("cfgget"))},{default:a((()=>[c("获取CFG")])),_:1}),l(m,{onClick:t[17]||(t[17]=e=>k.cmdFunc("cfg3k"))},{default:a((()=>[c("B300")])),_:1}),l(m,{onClick:t[18]||(t[18]=e=>k.cmdFunc("cfg115k"))},{default:a((()=>[c("B115")])),_:1}),l(m,{onClick:t[19]||(t[19]=e=>k.cmdFunc("cfg9k"))},{default:a((()=>[c("B9600")])),_:1})])),_:1}),l(h,{class:"radio-group"},{default:a((()=>[l(m,{onClick:t[20]||(t[20]=e=>k.cmdFunc("05ac"))},{default:a((()=>[c("Def-05AC")])),_:1}),l(m,{onClick:t[21]||(t[21]=e=>k.cmdFunc("alldef9k"))},{default:a((()=>[c("AllDef9k")])),_:1}),l(m,{onClick:t[22]||(t[22]=e=>k.cmdFunc("setusb"))},{default:a((()=>[c("设定USBstr")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-24cb78f4"]]);export{C as default};
